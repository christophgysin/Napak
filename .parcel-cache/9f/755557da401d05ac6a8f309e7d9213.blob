var $b90c4c4f094d87993ef02ec91eaff$exports = {};
$parcel$require("696b90c4c4f094d87993ef02ec91eaff", "/js/shared/helpers.js");
$parcel$require("696b90c4c4f094d87993ef02ec91eaff", "/js/shared/globals.js");

class $b90c4c4f094d87993ef02ec91eaff$export$default {
  constructor(params) {
    this.targetObj = params.targetObj;
    let dropdownContainer = $b90c4c4f094d87993ef02ec91eaff$import$dce({
      el: 'DIV',
      cssClass: 'dropdown-container'
    });
    let dropdownSelectedContainer = $b90c4c4f094d87993ef02ec91eaff$import$dce({
      el: 'DIV',
      cssClass: 'dropdown-selected'
    });
    let current = $b90c4c4f094d87993ef02ec91eaff$import$dce({
      el: 'SPAN',
      content: '-'
    });
    dropdownSelectedContainer.appendChild(current);
    let dropdonwOptionsContainer = $b90c4c4f094d87993ef02ec91eaff$import$dce({
      el: 'DIV',
      cssClass: 'dropdown-options hidden'
    });
    params.options.forEach(item => {
      let itemContainer = $b90c4c4f094d87993ef02ec91eaff$import$dce({
        el: 'A',
        content: item.title
      });

      if (item.selected) {
        itemContainer.classList.add('selected');
        this.selected = item;
        $b90c4c4f094d87993ef02ec91eaff$import$globals[params.targetObj] = item.value;
        current.innerHTML = item.title;
      }

      dropdonwOptionsContainer.appendChild(itemContainer);
      itemContainer.addEventListener('click', () => {
        this.set(itemContainer, item);
      }, false);
    });
    dropdownSelectedContainer.appendChild(dropdonwOptionsContainer);
    dropdownContainer.appendChild(dropdownSelectedContainer);

    this.render = () => {
      return dropdownContainer;
    };

    dropdownSelectedContainer.addEventListener('click', () => {
      this.toggle();
    }, false);

    this.toggle = () => {
      dropdonwOptionsContainer.classList.toggle('hidden');
    };

    this.set = (el, data) => {
      let currentSelected = el.parentNode.querySelectorAll('.selected');
      currentSelected.forEach(el => {
        el.classList.remove('selected');
      });
      el.classList.add('selected');
      $b90c4c4f094d87993ef02ec91eaff$import$globals[params.targetObj] = data.value;
      current.innerHTML = data.title;
    };
  }

}

$b90c4c4f094d87993ef02ec91eaff$exports.default = $b90c4c4f094d87993ef02ec91eaff$export$default;